#!/bin/bash
TODO_FILE="$(bfind .todo | head -n 1)"
#MAIN_FILE="$HOME/stuff/shit/.todo"


if [[ "-n" = "$1" ]]; then
    if [[ -f "$TODO_FILE" ]]; then
        echo "todo: .todo file already exists" 1>&2
        exit 1
    else 
        template -todo .todo
        exit 0
    fi
fi

superp_print ()
{
    echo -e "$(sed "s/\s\+$//;/^\s*$/d;s|^.|\\\033[0;1m&|;s|\[X\]|  \\\033[0;2;9m|;s|\[_\]|  \\\033[0m|;s|$| |" "$1")"
}

[ -f "$TODO_FILE" ] && superp_print "$TODO_FILE" && exit 0 #|| superp_print "$MAIN_FILE"
echo "todo: .todo file not found" 1>&2 && exit 1

